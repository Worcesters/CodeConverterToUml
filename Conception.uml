@startuml

class Registry {
   + initialize_project_with_root()
}

package "ParserModule" {
 interface ParseInterface {
    + {abstract} parse(line: str)
 }
 ParseInterface --> Registry

 abstract class MethodParser {
   + visibility
   + return_type
   + name: str
   + abstract: bool
   + params: []
 }
 MethodParser ..|> ParseInterface

 abstract class AttributeParser {
   + name: str
   + visibility: str
   + type
 }
 AttributeParser ..|> ParseInterface

 abstract class StructureParser {
   + name: str
   + visibility: str
 }
 StructureParser ..|> ParseInterface

 class PHP_StructureParser {}
 PHP_StructureParser --|> StructureParser

 class PHP_AttributeParser {}
 PHP_AttributeParser --|> AttributeParser

 class PHP_MethodParser {}
 PHP_MethodParser --|> MethodParser

 class PYTHON_StructureParser {}
 PYTHON_StructureParser --|> StructureParser

 class PYTHON_AttributeParser {}
 PYTHON_AttributeParser --|> AttributeParser

 class PYTHON_MethodParser {}
 PYTHON_MethodParser --|> MethodParser
}

Factory ..> PHP_StructureParser
Factory ..> PYTHON_StructureParser
Factory ..> PYTHON_AttributeParser
Factory ..> PHP_AttributeParser
Factory ..> PYTHON_MethodParser
Factory ..> PHP_MethodParser

enum Language {
    PHP
    PYTHON
    JAVA
}

class Factory {
    - language: Language
}
Language <-- Factory : uses >

package "TreeModule" {
 class Tree {
    + root: TreeElement
 }
 Tree --> TreeElement
 Registry --|> Tree

 class TreeElement {
    + parent: TreeElement
    + children: TreeElement[]
    + set_parent(parent: TreeElement)
    + add_child(child: TreeElement)
    + add_children(children : TreeElement[])
    + get_child(num_child: int): TreeElement
    + get_children(): TreeElement[]
    + get_parent(): TreeElement
 }
}

class CodeStructureDiagram {
    + add_hierarchy(hierarchy)
    + add_class(class_obj)
    + add_method(method)
    + add_interface(interface)
    + generate_diagram_code()
}

class ParseManager {
    - registry: Registry 
    - parsers: ParseInterface[]
    + parse_file(file_path)
    + parse_files(file_paths)
    + parse_folders(folder_path)
    + add_parsers(parser)
    + reset_parsers()
}

ParseManager o-- ParseInterface 
Registry --> CodeStructureDiagram

@enduml
